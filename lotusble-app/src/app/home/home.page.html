<!--
  Copyright (C) 2020 warhog <warhog@gmx.de>
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      {{ 'general.title' | translate }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="scan()">
        <ion-icon slot="end" name="refresh"></ion-icon>
        {{ 'home.scanButtonText' | translate }}
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <p [hidden]="devices.length > 0 || hasLoaded || bleNotAvailable">{{ 'home.noDevicesFoundText' | translate }}</p>
  <p [hidden]="!bleNotAvailable">{{ 'home.bleNotAvailableText' | translate }}</p>
  <ion-list>
    <button ion-item *ngFor="let device of devices" (click)="deviceSelected(device)">
      <h2>{{ device.name || 'Unknown' }}</h2>
      <p>{{ device.id }}</p>
      <p><ion-icon name="cellular-outline"></ion-icon> {{device.rssi}} db</p>
    </button>  
  </ion-list> 
</ion-content>